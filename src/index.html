<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/header.css">
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-{{JQUERY_VERSION}}.min.js"><\/script>')</script>
        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>
        <script src="js/popup.js"></script>

        <link rel="stylesheet" href="http://labs.voronianski.com/media/style/reset.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="style/avgrund.css">

        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <div class="container">
            <div class="page-header">
            <header title="header">
                <ul>
                    <img src="img/Logo.png" height="52" width="52">
                    <h3>Welcome To MyWork</h3>
                        <li><a href="#" id="register" class="button right">Register</a></li>
                        <li><a href="#" id="login" class="button right">Login</a></li>
                </ul>
            </header>
            </div>
            <div class="jumbotron" id="jumbotron">
                <canvas id="myCanvas" width="1000" height="600">
                    <img src="img/Logo.png" id="image1" width="805" height="602">
                </canvas>
            </div>
        </div>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='https://www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X','auto');ga('send','pageview');
        </script>
        <script src="js/jquery.avgrund.js"></script>

    <script type="text/javascript">

        //Instance variables
        var imageArray = [];
        var x = 0;
        var y = 0;

        // get canvas element.
        var elem = document.getElementById('myCanvas');
        elem.style.height = '100%';
        elem.style.width = '100%';
        context = elem.getContext("2d");

        //Object for the images on the canvas, can be moved and resized
        //resourced and instantiates Image(), Need to make type of image though
        function MakePictureObj(){
            this.image= new Image();
            this.src= 'img/Logo.png';
            this.x = 0;
            this.y = 0;
            this.sizeX = 200;
            this.sizeY = 200;
            this.originalX = 9999;
            this.originalY = 9999;

            this.animate = function(){
                changeCoordinates(this);
                context.clearRect(0,0, elem.width, elem.height);

                for(var i = 0; i < imageArray.length; i++){

                    //Don't know why I need these two unless the Image function isn't
                    //being called when the object is initially created but does so below
                    var tempImg = imageArray[i].image;
                    tempImg.src = imageArray[i].src;

                    context.drawImage(imageArray[i].image, imageArray[i].x, imageArray[i].y, imageArray[i].sizeX, imageArray[i].sizeY);
                }
            }
        }

        function changeCoordinates(obj){

            var tempRandom = Math.floor((Math.random() * 20) + -10);

            if (Math.abs(obj.originalX - obj.x) <= 10) {
                obj.x += tempRandom;

            }else{
                obj.x -= tempRandom;
            }
            if (Math.abs(obj.originalY - obj.y) <= 10) {
                obj.y += tempRandom;

            }else{
                obj.y -= tempRandom;
            }
        }

        //Creates objects and adds to imageArray
        //Then modifies the objects based on where on the canvas they will be
        //Currently set for a 5 x 4 grid on x=1000 size canvas
        for(var j = 0; j < 20; j++){

            imageArray[j] = new MakePictureObj();

            //base case, start of loop BUT still step x by 200
            if(j == 0 || x == 0){
                imageArray[j].originalX = 0;
                imageArray[j].originalY = 0;
                x += 200;
            }else if (j != 0 && x < 1000){
                //NOT the beginning of the loop && not the end
                imageArray[j].originalX = x;
                imageArray[j].originalY = y;
                imageArray[j].x = x;
                imageArray[j].y = y;
                x += 200;
            }else {
                //The END reset
                y += 200;
                x = 0;
                imageArray[j].originalX = x;
                imageArray[j].originalY = y;
                imageArray[j].x = 0;
                imageArray[j].y = y;
            }
        }

        window.setInterval(moveStuff, 300);

        function moveStuff(){
            for(var i = 0; i < imageArray.length; i++){

                var tempObject = imageArray[i];
                tempObject.animate();
                //Don't know why I need these two unless the Image function isn't
                //being called when the object is initially created but does so below
                var tempImg = imageArray[i].image;
                tempImg.src = imageArray[i].src;

                context.drawImage(imageArray[i].image, imageArray[i].x, imageArray[i].y, imageArray[i].sizeX, imageArray[i].sizeY);
            }
        }
        //Draws the image after being loaded
        window.onload = function() {

            for(var i = 0; i < imageArray.length; i++){

                //Don't know why I need these two unless the Image function isn't
                //being called when the object is initially created but does so below
                var tempImg = imageArray[i].image;
                tempImg.src = imageArray[i].src;

                context.drawImage(imageArray[i].image, imageArray[i].x, imageArray[i].y, imageArray[i].sizeX, imageArray[i].sizeY);
            }
        };
    </script>
    </body>
</html>
